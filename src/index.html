<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WorkSafe - Professional Communication Filter</title>
  <link rel="stylesheet" href="./styles/main.css">
</head>
<body>
  <div id="app">
    <header>
      <h1>WorkSafe</h1>
      <p class="tagline">Transform your words into professional communication</p>
    </header>

    <main>
      <section class="input-section">
        <div class="input-tabs">
          <button class="tab active" data-tab="voice">üé§ Voice</button>
          <button class="tab" data-tab="text">üìù Text</button>
        </div>

        <div class="input-panel" id="voice-panel">
          <button id="record-btn" class="record-btn">
            <span class="record-icon"></span>
            <span class="record-text">Click to speak</span>
          </button>
          <p class="status" id="voice-status">Ready</p>
          <div class="transcript" id="live-transcript"></div>
        </div>

        <div class="input-panel hidden" id="text-panel">
          <textarea 
            id="text-input" 
            placeholder="Paste or type your text here..."
            rows="6"
          ></textarea>
          <button id="transform-btn" class="primary-btn">Transform</button>
        </div>
      </section>

      <section class="settings-section">
        <div class="toggle-group">
          <label class="toggle">
            <input type="checkbox" id="ai-mode" />
            <span class="toggle-slider"></span>
            <span class="toggle-label">AI Rewrite</span>
          </label>
          <span class="mode-badge" id="mode-badge">Dictionary Mode</span>
        </div>

        <details class="api-settings">
          <summary>API Settings</summary>
          <div class="api-input-group">
            <label for="api-key">OpenAI API Key</label>
            <input type="password" id="api-key" placeholder="sk-..." />
            <button id="save-key-btn" class="secondary-btn">Save</button>
          </div>
        </details>
      </section>

      <section class="output-section">
        <h2>Transformed Output</h2>
        
        <div class="output-tabs">
          <button class="tab active" data-output="plain">Plain Text</button>
          <button class="tab" data-output="email">Email Format</button>
        </div>

        <div class="output-panel" id="plain-output">
          <div class="output-text" id="output-plain"></div>
          <button class="copy-btn" data-target="output-plain">üìã Copy</button>
        </div>

        <div class="output-panel hidden" id="email-output">
          <div class="output-text email-format" id="output-email"></div>
          <button class="copy-btn" data-target="output-email">üìã Copy</button>
        </div>

        <div class="changes-summary" id="changes-summary"></div>
      </section>
    </main>

    <footer>
      <p>All processing happens locally unless AI mode is enabled</p>
    </footer>
  </div>

  <script type="module" src="./main.ts"></script>
</body>
</html>
